---
title: Use Chunk for High-Performance Collections
id: data-chunk
skillLevel: beginner
provider: google
model: gemini-2.5-flash
useCase:
  - Data Types
  - Collections
  - Performance
summary: Use Chunk<A> as a high-performance, immutable alternative to
  JavaScript's Array, especially for data processing pipelines.
tags:
  - Chunk
  - collection
  - performance
  - immutable
  - data-type
  - effect
rule:
  description: Use Chunk to model immutable, high-performance collections for
    efficient data processing and transformation.
related:
  - data-array
  - data-hashset
author: PaulJPhilp
expectedOutput: >-
  timestamp=2025-08-07T18:29:29.434Z level=INFO fiber=#0 message="numbers: [1,
  2, 3, 4]"

  timestamp=2025-08-07T18:29:29.436Z level=INFO fiber=#0 message="doubled: [2,
  4, 6, 8]"

  timestamp=2025-08-07T18:29:29.436Z level=INFO fiber=#0 message="evens: [2, 4]"

  timestamp=2025-08-07T18:29:29.436Z level=INFO fiber=#0 message="allNumbers:
  [1, 2, 3, 4, 5, 6]"
---

# Use `Chunk` for High-Performance Collections

## Guideline

Use the `Chunk<A>` data type as an immutable, high-performance alternative to JavaScript's `Array`.  
`Chunk` is optimized for functional programming, batch processing, and streaming scenarios.

## Rationale

`Chunk` provides efficient, immutable operations for large or frequently transformed collections.  
It avoids the pitfalls of mutable arrays and is designed for use in concurrent and streaming workflows.

## Good Example

```typescript
import { Chunk, Effect } from "effect";

const numbers = Chunk.make(1, 2, 3, 4);
const doubled = Chunk.map(numbers, (n) => n * 2);
const evens = Chunk.filter(numbers, (n) => n % 2 === 0);
const moreNumbers = Chunk.make(5, 6);
const allNumbers = Chunk.appendAll(numbers, moreNumbers);
const arr = Chunk.toArray(allNumbers);

const program = Effect.gen(function* () {
  yield* Effect.log(`numbers: [${Chunk.toArray(numbers).join(", ")}]`);
  yield* Effect.log(`doubled: [${Chunk.toArray(doubled).join(", ")}]`);
  yield* Effect.log(`evens: [${Chunk.toArray(evens).join(", ")}]`);
  yield* Effect.log(`allNumbers: [${arr.join(", ")}]`);
});

Effect.runPromise(program);

```

**Explanation:**  
- `Chunk` is immutable and optimized for performance.
- It supports efficient batch operations, concatenation, and transformation.
- Use `Chunk` in data pipelines, streaming, and concurrent scenarios.

## Anti-Pattern

Using mutable JavaScript arrays for shared or concurrent data, or for large-scale data processing, which can lead to bugs, inefficiency, and unpredictable behavior.