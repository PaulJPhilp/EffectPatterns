---
title: Creating Case Constructors with Data.case
id: data-case
skillLevel: intermediate
provider: google
model: gemini-2.5-flash
useCase:
  - Data Types
  - Case Constructors
  - Domain Modeling
  - Structural Equality
summary: Use Data.case to create case constructors for data types with built-in
  structural equality and hashing, enabling type-safe domain modeling.
tags:
  - Data.case
  - case-constructor
  - structural-equality
  - domain-modeling
  - data-type
  - effect
rule:
  description: Use Data.case to create case constructors for data types, providing
    automatic structural equality and hashing for domain objects.
related:
  - data-tagged
  - data-struct
  - pattern-matchtag
author: PaulJPhilp
expectedOutput: >-
  timestamp=2025-08-07T18:29:29.671Z level=INFO fiber=#0 message="Hello, Alice!"

  timestamp=2025-08-07T18:29:29.673Z level=INFO fiber=#0 message="Hello, Bob!"

  timestamp=2025-08-07T18:29:29.674Z level=INFO fiber=#0 message="Are they
  equal? false"
---

# Creating Case Constructors with `Data.case`

## Guideline

Use `Data.case` to create case constructors for data types with built-in structural equality and hashing.  
This provides a simple way to create domain objects that work seamlessly with Effect's collections and comparison operations.

## Rationale

Case constructors created with `Data.case` automatically provide structural equality and hashing, making them ideal for domain modeling.  
Unlike plain objects, these case constructors ensure consistent equality semantics and can be safely used in collections like `HashSet` and `HashMap`.

## Good Example

```typescript
import { Data, Effect, Equal } from "effect";

interface Person {
  readonly name: string;
}

const Person = Data.case<Person>();

const person1 = Person({ name: "Alice" });
const person2 = Person({ name: "Bob" });

function greet(person: Person): string {
  return `Hello, ${person.name}!`;
}

const program = Effect.gen(function* () {
  yield* Effect.log(greet(person1));
  yield* Effect.log(greet(person2));
  yield* Effect.log(`Are they equal? ${Equal.equals(person1, person2)}`);
});

Effect.runPromise(
  program.pipe(Effect.catchAll(() => Effect.succeed(undefined)))
);

```

**Explanation:**  
- Define an interface for your data type.
- `Data.case<YourType>()` creates a constructor function with built-in structural equality.
- Case constructors automatically provide `Equal` and `Hash` implementations.
- Perfect for domain modeling where structural equality is desired.

## Anti-Pattern

Using plain objects for domain data that need structural equality, or manually implementing equality and hash functions, which can lead to inconsistent behavior in collections.