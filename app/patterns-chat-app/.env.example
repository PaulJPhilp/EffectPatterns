# Patterns Chat App Environment Variables
# Copy this file to .env.local and fill in the required values

# ============================================================================
# REQUIRED - Supermemory Configuration (Pattern Retrieval)
# ============================================================================

# Supermemory API key for querying Effect-TS patterns
# Get from: https://www.supermemory.ai/
# IMPORTANT: Never commit this key to version control
SUPERMEMORY_API_KEY="sm_..."

# Supermemory project ID where patterns are stored
# Default: effect-patterns
SUPERMEMORY_PROJECT_ID="effect-patterns"

# ============================================================================
# REQUIRED - Database Configuration
# ============================================================================

# PostgreSQL connection string for Neon (or other PostgreSQL provider)
# Get from: https://console.neon.tech/
POSTGRES_URL="postgresql://user:password@ep-xxxx-pooler.us-east-1.aws.neon.tech/dbname?sslmode=require"

# ============================================================================
# REQUIRED - AI Model Providers
# ============================================================================

# AI Gateway API key (for accessing multiple AI models)
# For Vercel deployments, this is handled via OIDC automatically
# Get from: https://vercel.com/docs/ai-gateway
# AI_GATEWAY_API_KEY="your-ai-gateway-key"

# OpenAI API key (optional, for direct OpenAI access)
# Get from: https://platform.openai.com/api-keys
# OPENAI_API_KEY="sk-proj-..."

# Anthropic Claude API key (optional, for direct Claude access)
# Get from: https://console.anthropic.com/
# ANTHROPIC_API_KEY="sk-ant-..."

# ============================================================================
# REQUIRED - File Storage (Vercel Blob)
# ============================================================================

# Vercel Blob token for file uploads and storage
# Get from: https://vercel.com/storage/blob
BLOB_READ_WRITE_TOKEN="your-blob-token-here"

# ============================================================================
# OPTIONAL - Authentication (Auth.js - being replaced)
# ============================================================================

# NextAuth secret for session encryption
# Generate with: openssl rand -base64 32
# AUTH_SECRET="your-generated-secret-here"

# ============================================================================
# OPTIONAL - Development Settings
# ============================================================================

# Node environment
# NODE_ENV="development"

# Application URL (used for redirects)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Enable debug logging
# DEBUG="*"

# ============================================================================
# IMPORTANT NOTES
# ============================================================================
#
# 1. SECURITY: Never commit .env.local to version control
# 2. API KEYS: Keep API keys secure and rotate regularly
# 3. ENVIRONMENTS: Use different keys for development and production
#
# 4. PATTERN LOADING:
#    Before running this app, load patterns using sm-cli:
#    $ cd app/sm-cli
#    $ pnpm install
#    $ export SUPERMEMORY_API_KEY="your-key"
#    $ pnpm run dev -- patterns upload --all
#    $ pnpm run dev -- memories list --type pattern
#
# 5. DATABASE:
#    - Use connection pooling for production (Neon pooler endpoint)
#    - Test connection before starting the app
#    - Run migrations: pnpm run db:migrate
#
# 6. SUPERMEMORY:
#    - Sign up at https://www.supermemory.ai/ for API key
#    - Store patterns in 'effect-patterns' project
#    - Patterns are static and loaded at release time
#
# 7. PRODUCTION (Vercel):
#    - Set all required variables in Vercel dashboard
#    - Use environment-specific tokens and API keys
#    - Enable HTTPS and set correct NEXT_PUBLIC_APP_URL
#    - AI_GATEWAY_API_KEY handled via OIDC on Vercel (no need to set)
#
