# Code Assistant Environment Variables
# Copy this file to .env.local and fill in the required values

# ============================================================================
# REQUIRED - Database Configuration
# ============================================================================

# PostgreSQL connection string for Neon (or other PostgreSQL provider)
# Get from: https://console.neon.tech/
POSTGRES_URL="postgresql://user:password@ep-xxxx-pooler.us-east-1.aws.neon.tech/dbname?sslmode=require"

# ============================================================================
# REQUIRED - Authentication
# ============================================================================

# NextAuth secret for session encryption
# Generate with: openssl rand -base64 32
AUTH_SECRET="your-generated-secret-here"

# GitHub OAuth credentials (for user authentication)
# Get from: https://github.com/settings/developers
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# Application URL (used for OAuth redirects)
NEXT_PUBLIC_APP_URL="http://localhost:3002"

# ============================================================================
# REQUIRED - AI Model Providers
# ============================================================================

# Anthropic Claude API key
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY="sk-ant-..."

# OpenAI API key (for GPT models)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-proj-..."

# Google Gemini API key (for Gemini models)
# Get from: https://aistudio.google.com/app/apikey
GOOGLE_GEMINI_API_KEY="AIzaSy..."

# ============================================================================
# REQUIRED - Memory & Preferences
# ============================================================================

# Supermemory API key for storing user preferences
# Get from: https://www.supermemory.ai/
# IMPORTANT: Never commit this key to version control
SUPERMEMORY_API_KEY="sm_..."

# ============================================================================
# OPTIONAL - Model Configuration
# ============================================================================

# Override default Anthropic model
# Default: claude-3-5-sonnet-20241022
# ANTHROPIC_MODEL="claude-3-opus-20240229"

# Override default OpenAI model
# Default: gpt-3.5-turbo
# OPENAI_MODEL="gpt-4-turbo"

# ============================================================================
# OPTIONAL - Sandbox & Code Execution (Task Mode)
# ============================================================================

# Vercel Sandbox credentials (for isolated code execution)
# Get from: https://vercel.com/account/tokens
SANDBOX_VERCEL_TEAM_ID="your-team-id"
SANDBOX_VERCEL_PROJECT_ID="your-project-id"
SANDBOX_VERCEL_TOKEN="your-token"

# ============================================================================
# OPTIONAL - Security
# ============================================================================

# JWE encryption key for secure data storage
# Generate with: openssl rand -base64 32
JWE_SECRET="your-jwe-secret"

# Encryption key for sensitive fields
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY="your-encryption-key"

# ============================================================================
# OPTIONAL - Development Settings
# ============================================================================

# Node environment
# NODE_ENV="development"

# Enable debug logging
# DEBUG="*"

# ============================================================================
# OPTIONAL - File Upload & Storage
# ============================================================================

# Maximum file upload size in bytes (default: 10MB)
# MAX_FILE_SIZE="10485760"

# Allowed file types for uploads (comma-separated)
# ALLOWED_FILE_TYPES="txt,md,ts,tsx,js,jsx,json,yaml,yml"

# ============================================================================
# OPTIONAL - Rate Limiting
# ============================================================================

# Rate limit: requests per minute per user
# RATE_LIMIT_REQUESTS="60"

# Rate limit: window in minutes
# RATE_LIMIT_WINDOW="1"

# ============================================================================
# OPTIONAL - Observability
# ============================================================================

# OpenTelemetry endpoint for tracing
# OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318"

# OpenTelemetry API headers
# OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer your-token"

# ============================================================================
# IMPORTANT NOTES
# ============================================================================
#
# 1. SECURITY: Never commit .env.local to version control
# 2. API KEYS: Keep API keys secure and rotate regularly
# 3. ENVIRONMENTS: Use different keys for development and production
# 4. GITHUB OAUTH:
#    - Create OAuth app at https://github.com/settings/developers
#    - Set Authorization callback URL to: NEXT_PUBLIC_APP_URL/api/auth/callback/github
# 5. VERCEL SANDBOX:
#    - Optional for local development (works in development mode without it)
#    - Required for production task execution
# 6. PRODUCTION:
#    - Set all required variables in Vercel dashboard
#    - Use environment-specific tokens and API keys
#    - Enable HTTPS and set correct NEXT_PUBLIC_APP_URL
# 7. DATABASE:
#    - Use connection pooling for production (Neon pooler endpoint)
#    - Test connection before starting the app
# 8. SUPERMEMORY:
#    - Sign up at https://www.supermemory.ai/ for API key
#    - Required for user preference persistence
#    - Ensure API key is kept secret
#
