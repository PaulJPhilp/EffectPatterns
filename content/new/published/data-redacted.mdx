---
title: "Redact and Handle Sensitive Data"
id: "data-redacted"
skillLevel: "intermediate"
useCase: ["Data Types", "Security", "Sensitive Data", "Logging"]
summary: "Use Redacted to securely handle sensitive data, ensuring secrets are not accidentally logged or exposed."
tags: ["Redacted", "security", "sensitive-data", "logging", "data-type", "effect"]
rule:
  description: "Use Redacted to wrap sensitive values, preventing accidental exposure in logs or error messages."
related: ["data-struct", "observability-structured-logging"]
author: "PaulJPhilp"
---

# Redact and Handle Sensitive Data with `Redacted`

## Guideline

Use the `Redacted` data type to securely handle sensitive data such as passwords, API keys, or tokens.  
`Redacted` ensures that secrets are not accidentally logged, serialized, or exposed in error messages.

## Rationale

Sensitive data should never appear in logs, traces, or error messages.  
`Redacted` provides a type-safe way to mark and protect secrets throughout your application.

## Good Example

```typescript
import { Redacted, Effect } from "effect";

const secret = Redacted.make("super-secret-password");

function authenticate(user: string, password: Redacted.Redacted<string>) {
  // Simulate authentication logic
  return Effect.succeed(
    user === "admin" && String(password) === "<redacted>"
      ? "Authenticated"
      : "Failed"
  );
}

const program = Effect.gen(function* () {
  yield* Effect.log(`Password: ${secret}`); // Should log <redacted>
  yield* Effect.log(`Password as string: ${String(secret)}`); // Should log <redacted>
  const authResult = yield* authenticate("admin", secret);
  yield* Effect.log(`Authentication result: ${authResult}`);
});

Effect.runPromise(program);

```

**Explanation:**  
- `Redacted.make(value)` wraps a sensitive value.
- When logged or stringified, the value is replaced with `<redacted>`.
- Prevents accidental exposure of secrets in logs or error messages.

## Anti-Pattern

Passing sensitive data as plain strings, which can be accidentally logged, serialized, or leaked in error messages.