---
title: "Creating from Collections"
id: "constructor-from-iterable"
skillLevel: "beginner"
useCase: ["Constructors", "Collections", "Streams", "Batch Processing"]
summary: "Use fromIterable and fromArray to create Streams or Effects from arrays, iterables, or other collections, enabling batch and streaming operations."
tags: ["fromIterable", "fromArray", "constructor", "stream", "effect", "collection", "batch"]
rule:
  description: "Use fromIterable and fromArray to lift collections into Streams or Effects for batch or streaming processing."
related: ["constructor-succeed-some-right", "constructor-from-nullable-option-either"]
author: "PaulJPhilp"
---

# Creating from Collections

## Guideline

Use the `fromIterable` and `fromArray` constructors to create Streams or Effects from arrays, iterables, or other collections.  
This is the foundation for batch processing, streaming, and working with large or dynamic data sources.

## Rationale

Lifting collections into Streams or Effects allows you to process data in a composable, resource-safe, and potentially concurrent way.  
It also enables you to use all of Effect's combinators for transformation, filtering, and error handling.

## Good Example

```typescript
import { Stream, Effect } from "effect";

const numbers = [1, 2, 3, 4];
const numberStream = Stream.fromIterable(numbers);

function* gen() {
  yield "a";
  yield "b";
}
const letterStream = Stream.fromIterable(gen());

const effects = [Effect.succeed(1), Effect.succeed(2)];
const batchEffect = Effect.all(effects);

const program = Effect.gen(function* () {
  const numberValues: number[] = [];
  yield* Stream.runForEach(numberStream, (n) =>
    Effect.sync(() => numberValues.push(n))
  );
  yield* Effect.log(
    `Stream.fromIterable(numbers): [${numberValues.join(", ")}]`
  );

  const letterValues: string[] = [];
  yield* Stream.runForEach(letterStream, (l) =>
    Effect.sync(() => letterValues.push(l))
  );
  yield* Effect.log(`Stream.fromIterable(gen()): [${letterValues.join(", ")}]`);

  const batch = yield* batchEffect;
  yield* Effect.log(`Effect.all result: [${batch.join(", ")}]`);
});

Effect.runPromise(program);

```

**Explanation:**  
- `Stream.fromIterable` creates a stream from any array or iterable, enabling streaming and batch operations.
- `Effect.all` (covered elsewhere) can be used to process arrays of effects in batch.

## Anti-Pattern

Manually looping over collections and running effects or streams imperatively, which loses composability, error handling, and resource safety.