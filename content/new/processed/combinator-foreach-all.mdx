---
title: "Mapping and Chaining over Collections with forEach and all"
id: "combinator-foreach-all"
skillLevel: "intermediate"
useCase: ["Combinators", "Collections", "Parallelism", "Batch Processing"]
summary: "Use forEach and all to apply effectful functions to collections and combine the results, enabling batch and parallel processing."
tags: ["forEach", "all", "collections", "parallelism", "batch", "combinator", "effect", "stream", "option", "either"]
rule:
  description: "Use forEach and all to process collections of values with effectful functions, collecting results in a type-safe and composable way."
related: ["combinator-map", "combinator-flatmap", "combinator-all-race"]
author: "PaulJPhilp"
---

# Mapping and Chaining over Collections with `forEach` and `all`

## Guideline

Use the `forEach` and `all` combinators to apply an effectful function to every item in a collection and combine the results.  
This enables you to process lists, arrays, or other collections in a type-safe, composable, and often parallel way.

## Rationale

Batch and parallel processing are common in real-world applications.  
These combinators let you express "do this for every item" declaratively, without manual loops or imperative control flow, and they preserve error handling and context propagation.

## Good Example

<Example path="./src/combinator-foreach-all.ts" />

**Explanation:**  
`forEach` and `all` let you process collections in a way that is composable, type-safe, and often parallel.  
When working with arrays of `Either`, use `Either.getRight` to extract right values, then filter for `Option.isSome` and map to `.value`.  
They handle errors and context automatically, and can be used for batch jobs, parallel requests, or data transformations.

## Anti-Pattern

Using manual loops (`for`, `forEach`, etc.) with side effects, or collecting results imperatively, which breaks composability and loses error/context handling.