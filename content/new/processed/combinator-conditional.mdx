---
title: "Conditional Branching with if, when, and cond"
id: "combinator-conditional"
skillLevel: "beginner"
provider: "google"
model: "gemini-2.5-flash"
useCase: ["Combinators", "Composition", "Conditional Logic"]
summary: "Use combinators like if, when, and cond to express conditional logic declaratively across Effect, Stream, Option, and Either."
tags: ["conditional", "if", "when", "cond", "combinator", "effect", "stream", "option", "either"]
rule:
  description: "Use combinators such as if, when, and cond to branch computations based on runtime conditions, without imperative if statements."
related: ["combinator-filter", "combinator-map", "combinator-flatmap"]
author: "PaulJPhilp"
---

# Conditional Branching with `if`, `when`, and `cond`

## Guideline

Use combinators like `Effect.if`, `Effect.when`, and `Effect.cond` to express conditional logic in a declarative, composable way for effects.  
For `Option` and `Either`, use standard conditional expressions to construct values.

## Rationale

Declarative branching keeps your code composable, testable, and easy to reason about.  
It also ensures that error handling and context propagation are preserved, and that your code remains consistent across different Effect types.

## Good Example

<Example path="./src/combinator-conditional.ts" />

**Explanation:**  
Use `Effect.if` to branch effectful computations.  
For `Option` and `Either`, use ternary or if/else to construct the value.  
This keeps your code composable and type-safe.

## Anti-Pattern

Using imperative `if` statements to branch inside effectful computations (instead of using `Effect.if` or `Effect.when`) breaks composability and makes error/context handling less predictable.

For `Option` and `Either`, conditional expressions (ternary or if/else) are idiomatic and not an anti-pattern.