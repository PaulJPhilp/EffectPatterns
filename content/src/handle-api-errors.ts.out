timestamp=2025-07-07T18:21:18.316Z level=INFO fiber=#0 message="=== Processing API request ==="
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="
--- Testing user ID: user_123 ---"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="Attempting to get user with id: user_123"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="Found user: {\"id\":\"user_123\",\"name\":\"Paul\",\"email\":\"paul@example.com\",\"role\":\"admin\"}"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="Response: {\"data\":{\"id\":\"user_123\",\"name\":\"Paul\",\"email\":\"paul@example.com\",\"role\":\"admin\"}}"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="
--- Testing user ID: user_456 ---"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="Attempting to get user with id: user_456"
timestamp=2025-07-07T18:21:18.317Z level=INFO fiber=#0 message="Found user: {\"id\":\"user_456\",\"name\":\"Alice\",\"email\":\"alice@example.com\",\"role\":\"user\"}"
timestamp=2025-07-07T18:21:18.318Z level=INFO fiber=#0 message="Response: {\"data\":{\"id\":\"user_456\",\"name\":\"Alice\",\"email\":\"[hidden]\",\"role\":\"user\"}}"
timestamp=2025-07-07T18:21:18.318Z level=INFO fiber=#0 message="
--- Testing user ID: invalid_id ---"
timestamp=2025-07-07T18:21:18.318Z level=INFO fiber=#0 message="Attempting to get user with id: invalid_id"
timestamp=2025-07-07T18:21:18.318Z level=WARN fiber=#0 message="Invalid user ID format: invalid_id"
timestamp=2025-07-07T18:21:18.319Z level=ERROR fiber=#0 message="API Error: {\"id\":\"invalid_id\",\"reason\":\"ID must be in format user_<number>\",\"_tag\":\"InvalidIdError\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Response: {\"error\":\"Bad Request\",\"message\":\"ID must be in format user_<number>\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="
--- Testing user ID: user_789 ---"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Attempting to get user with id: user_789"
timestamp=2025-07-07T18:21:18.319Z level=WARN fiber=#0 message="User not found with id: user_789"
timestamp=2025-07-07T18:21:18.319Z level=ERROR fiber=#0 message="API Error: {\"id\":\"user_789\",\"_tag\":\"UserNotFoundError\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Response: {\"error\":\"Not Found\",\"message\":\"User user_789 not found\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Attempting to get user with id: user_123"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Found user: {\"id\":\"user_123\",\"name\":\"Paul\",\"email\":\"paul@example.com\",\"role\":\"admin\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Attempting to get user with id: user_456"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Found user: {\"id\":\"user_456\",\"name\":\"Alice\",\"email\":\"alice@example.com\",\"role\":\"user\"}"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="
=== Testing role checks ==="
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Checking if user user_123 has role: admin"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="User user_123 has required role: admin"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Admin access successful"
timestamp=2025-07-07T18:21:18.319Z level=INFO fiber=#0 message="Checking if user user_456 has role: admin"
timestamp=2025-07-07T18:21:18.319Z level=WARN fiber=#0 message="User user_456 with role user cannot access admin resources"
timestamp=2025-07-07T18:21:18.319Z level=ERROR fiber=#0 message="API Error: {\"action\":\"access_user\",\"role\":\"user\",\"_tag\":\"UnauthorizedError\"}"
