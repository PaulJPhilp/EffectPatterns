timestamp=2025-07-07T18:21:22.958Z level=INFO fiber=#0 message="=== Starting Error Handling Tests ==="
timestamp=2025-07-07T18:21:22.959Z level=INFO fiber=#0 message="
=== Testing: Expected database error ==="
timestamp=2025-07-07T18:21:22.961Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:22.961Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:23.063Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:23.063Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:23.265Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:23.266Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:23.668Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:23.668Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:24.470Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:24.471Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:26.072Z level=INFO fiber=#1 message="Connecting to database: "
timestamp=2025-07-07T18:21:26.072Z level=ERROR fiber=#1 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:27.965Z level=INFO fiber=#0 message="
=== Error details ==="
timestamp=2025-07-07T18:21:27.966Z level=WARN fiber=#0 message="Expected failure"
timestamp=2025-07-07T18:21:27.966Z level=WARN fiber=#0 message="Error: {\"_id\":\"Option\",\"_tag\":\"Some\",\"value\":\"Connection timeout\"}"
timestamp=2025-07-07T18:21:27.966Z level=INFO fiber=#0 message="
=== Testing: Unexpected connection error ==="
timestamp=2025-07-07T18:21:27.966Z level=INFO fiber=#0 message="Connecting to database: invalid"
timestamp=2025-07-07T18:21:27.966Z level=ERROR fiber=#0 message="Invalid connection string"
timestamp=2025-07-07T18:21:27.967Z level=ERROR fiber=#0 message="Failed after 3 retries"
timestamp=2025-07-07T18:21:27.967Z level=ERROR fiber=#0 message="Error: Failed to parse connection string
    at <anonymous> (/Users/paul/Projects/Effect-Patterns/content/src/handle-unexpected-errors-with-cause.ts:51:25)"
timestamp=2025-07-07T18:21:27.968Z level=INFO fiber=#0 message="
=== Error details ==="
timestamp=2025-07-07T18:21:27.968Z level=WARN fiber=#0 message="Expected failure"
timestamp=2025-07-07T18:21:27.968Z level=WARN fiber=#0 message="Error: {\"_id\":\"Option\",\"_tag\":\"Some\",\"value\":\"Max retries exceeded\"}"
timestamp=2025-07-07T18:21:27.969Z level=INFO fiber=#0 message="
=== Testing: Valid user data ==="
timestamp=2025-07-07T18:21:27.971Z level=INFO fiber=#0 message="Parsing user data: {\"id\":\"1\",\"name\":\"John\"}"
timestamp=2025-07-07T18:21:27.971Z level=INFO fiber=#0 message="Successfully parsed user: {\"id\":\"1\",\"name\":\"John\"}"
timestamp=2025-07-07T18:21:27.971Z level=INFO fiber=#0 message="Success: {\"id\":\"1\",\"name\":\"John\"}"
timestamp=2025-07-07T18:21:27.971Z level=INFO fiber=#0 message="
=== Testing: Concurrent operations ==="
timestamp=2025-07-07T18:21:27.976Z level=INFO fiber=#6 message="Connecting to database: "
timestamp=2025-07-07T18:21:27.976Z level=ERROR fiber=#6 message="Database error: {\"operation\":\"connect\",\"details\":\"Missing URL\",\"_tag\":\"DatabaseError\"}"
timestamp=2025-07-07T18:21:27.976Z level=INFO fiber=#8 message="Parsing user data: {\"id\":\"invalid\"}"
timestamp=2025-07-07T18:21:27.976Z level=WARN fiber=#8 message="Validation error: {\"field\":\"input\",\"message\":\"Missing required fields\",\"_tag\":\"ValidationError\"}"
timestamp=2025-07-07T18:21:27.978Z level=INFO fiber=#0 message="Success: [{\"success\":true},{\"id\":\"timeout\",\"name\":\"Timeout\"}]"
timestamp=2025-07-07T18:21:27.978Z level=INFO fiber=#0 message="
=== Error Handling Tests Complete ==="
